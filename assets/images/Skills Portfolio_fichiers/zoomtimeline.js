function get_query_arg(b,a){if(-1<b.indexOf(a+"=")){var d=(new RegExp("[?&]"+a+"(.+?)(?=&|$)")).exec(b);if(null!=d)return d[1]?d[1].replace(/=/g,""):""}}Object.size=function(b){var a=0,d;for(d in b)b.hasOwnProperty(d)&&a++;return a};void 0==window.jQuery&&alert("dzstabs.js -> jQuery is not defined or improperly declared ( must be included at the start of the head tag ), you need jQuery for this plugin");jQuery.fn.outerHTML=function(b){return b?this.before(b).remove():jQuery("<p>").append(this.eq(0).clone()).html()};
window.dzsztm_self_options={};window.dzsshuffle_currTarget=null;window.dzsshuffle_finaltext="";window.dzsshuffle_finaltext_arr="";window.dzsshuffle_temp_arr="";
function shuffleText(b,a,d){var k={fps:20};d&&(k=jQuery.extend(k,d));window.dzsshuffle_currTarget&&b.get(0)!=window.dzsshuffle_currTarget.get(0)&&(window.dzsshuffle_currTarget.text(window.dzsshuffle_finaltext),window.dzsshuffle_currTarget.data("terminate-now","on"),b.data("terminate-now","off"));a!=window.dzsshuffle_finaltext&&(d=b.text(),window.dzsshuffle_finaltext=a,a=a.split(""),window.dzsshuffle_finaltext_arr=a,window.dzsshuffle_temp_arr=d.split(""),b.data("current_k",0),b.data("current_k_try",
    0));b.data("current_k")&&!isNaN(b.data("current_k"))||b.data("current_k",0);if(Number(b.data("current_k"))>=window.dzsshuffle_finaltext_arr.length||"on"==b.data("terminate-now"))return b.text(window.dzsshuffle_finaltext),!1;if(1==Number(b.data("current_k_try")))for(a=b.data("current_k")+1;a<window.dzsshuffle_finaltext_arr.length;a++)window.dzsshuffle_temp_arr[a]=randomChar();b.data("finaltext")||b.data("finaltext",window.dzsshuffle_finaltext);var q=b.data("current_k"),B="";a=window.dzsshuffle_finaltext_arr[q];
    B=" "==a?"space":/[a-z]/.test(a)?"lowerLetter":/[A-Z]/.test(a)?"upperLetter":"symbol";setTimeout(function(){var a=randomChar(B);4<b.data("current_k_try")&&(a=window.dzsshuffle_finaltext_arr[q]);try{window.dzsshuffle_temp_arr[b.data("current_k")]=a,b.text(window.dzsshuffle_temp_arr.join(""))}catch(T){}a==window.dzsshuffle_finaltext_arr[q]||"space"==B?(b.data("current_k",Number(b.data("current_k"))+1),b.data("current_k_try",0),shuffleText(b,window.dzsshuffle_finaltext,k)):(shuffleText(b,window.dzsshuffle_finaltext,
        k),b.data("current_k_try",Number(b.data("current_k_try"))+1))},30)}function randomChar(b){var a="";if("undefined"==typeof b){var d=3*Math.random(),d=Math.floor(d);0==d&&(b="lowerLetter");1==d&&(b="upperLetter");2==d&&(b="symbol")}"lowerLetter"==b?a="abcdefghijklmnopqrstuvwxyz0123456789":"upperLetter"==b?a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789":"symbol"==b&&(a=",.?/\\(^)![]{}*&^%$#'\"");b=a.split("");return b[Math.floor(Math.random()*b.length)]}
(function(b){b.fn.prependOnce=function(a,d){var k=b(this);if("undefined"==typeof d){var q=/class="(.*?)"/.exec(a);"undefined"!=typeof q[1]&&(d="."+q[1])}return 1>k.children(d).length?(k.prepend(a),!0):!1};b.fn.appendOnce=function(a,d){var k=b(this);if("undefined"==typeof d){var q=/class="(.*?)"/.exec(a);"undefined"!=typeof q[1]&&(d="."+q[1])}return 1>k.children(d).length?(k.append(a),!0):!1};b.fn.zoomtimeline=function(a){if("undefined"==typeof a&&"undefined"!=typeof b(this).attr("data-options")&&
    ""!=b(this).attr("data-options")){var d=b(this).attr("data-options");eval("window.dzsztm_self_options = "+d);a=b.extend({},window.dzsztm_self_options);window.dzsztm_self_options=b.extend({},{})}a=b.extend({design_skin:"skin-default",settings_mode:"mode-default",mode_slider_variation_content_position:"top",mode_slider_variation_hexa_mode:"inshow",design_transition:"default",design_tabswidth:"default",design_maxwidth:"4000",init_on:"document_ready",settings_makeFunctional:!1,settings_appendWholeContent:!1,
    toggle_breakpoint:"320",toggle_type:"accordion",refresh_tab_height:"0",startItem:"default",outer_menu:null,color_highlight:"rgba(220, 167, 167, 1)",mode_3dslider_item_width:"300",mode_3dslider_item_height:"400",mode_3dslider_year_padding:"20",mode_3dslider_mode:"normal",mode_yearslist_start_from_left:"off",circuit_the_timeline:"on",scroller_remember_last_position:"off",settings_isotope_settings:{getSortData:{number:function(a){return parseInt(b(a).attr("data-sort"),10)}},itemSelector:".isotope-item",
        sortBy:"number",layoutMode:"packery",masonry:{columnWidth:".grid-sizer"},packery:{columnWidth:1}}},a);this.each(function(){function d(a,d){U=b(window).scrollTop();V=b(window).height();W=c.offset().top;U+V>W-30&&q()}function q(){b(window).off("scroll",d);if(c.hasClass("dzsztm-loaded")||c.hasClass("inited"))B();else{M="string"==typeof c.attr("class")?c.attr("class"):c.get(0).className;h=c.attr("id");if("undefined"==typeof h||""==h){for(var g=0,p="zoomtimeline"+g;0<b("#"+p).length;)g++,p="zoomtimeline"+
    g;h=p;c.attr("id",h);c.addClass(h)}c.parent().find(".feed-from-3dslider").length&&(F=c.parent().find(".feed-from-3dslider").eq(0));-1==M.indexOf("skin-")&&c.addClass(a.design_skin);c.hasClass("skin-default")&&(a.design_skin="skin-default");-1==M.indexOf("mode-")&&c.addClass(a.settings_mode);c.hasClass("mode-default")&&(a.settings_mode="mode-default");c.hasClass("mode-oncenter")&&(a.settings_mode="mode-oncenter");c.hasClass("mode-slider")&&(a.settings_mode="mode-slider");c.hasClass("mode-slider-variation")&&
(a.settings_mode="mode-slider-variation");c.hasClass("mode-yearslist")&&(a.settings_mode="mode-yearslist");c.hasClass("mode-3dslider")&&(a.settings_mode="mode-3dslider");c.hasClass("mode-blackwhite")&&(a.settings_mode="mode-blackwhite");c.hasClass("mode-masonry")&&(a.settings_mode="mode-masonry");c.hasClass("mode-horizontal")&&(a.settings_mode="mode-horizontal");c.addClass("circuit-the-timeline-"+a.circuit_the_timeline);"default"==a.design_transition&&(a.design_transition="fade");if("mode-slider"==
    a.settings_mode&&!window.dzsscr_init||"mode-slider-variation"==a.settings_mode&&!window.dzsscr_init)return console.info(a.settings_mode+" zoomtimeline - scroller must be inited for this mode"),!1;if("mode-3dslider"==a.settings_mode){r=parseInt(a.mode_3dslider_item_width,10);C=parseInt(a.mode_3dslider_item_height,10);G=parseInt(a.mode_3dslider_year_padding,10);c.prepend('<style class="zoomtimeline-style-con"></style>');X=c.children(".zoomtimeline-style-con").eq(0);g="";-1<String(a.color_highlight).indexOf("#")&&
(a.color_highlight=hexToRgbA(a.color_highlight));var p=String(a.color_highlight).replace("1)","0.5)"),f=String(a.color_highlight).replace("1)","0.7)"),g=g+(".zoomtimeline.mode-3dslider."+h+" .yearlist-con:after, .zoomtimeline.mode-3dslider."+h+" .yearlist-con .yearlist .year figure{ background-color: "+a.color_highlight+"; } .zoomtimeline.mode-3dslider."+h+" .details-container > .detail .detail-image--border{ border-color: "+f+"; } .zoomtimeline.mode-3dslider."+h+" .details-container > .next-next-item .detail-image--border, .zoomtimeline.mode-3dslider."+
    h+" .details-container > .prev-prev-item .detail-image--border{ border-color: "+p+" } ");20!=G&&(g+=" .zoomtimeline.mode-3dslider .yearlist-con .yearlist .year { width: "+G+"%; }");0==isNaN(r)&&(g=g+""+(".zoomtimeline.mode-3dslider."+h+" .details-container > .detail { width: "+r+"px; }           .zoomtimeline.mode-3dslider."+h+" .yearlist-con .yearlist-container{ top: "+(C/2+60)+"px; height: "+C+"px; }    .zoomtimeline.mode-3dslider."+h+" .yearlist-con .yearlist .year.curr-item{  top: "+(C/2+18)+
    "px; }    .zoomtimeline.mode-3dslider."+h+" .yearlist-con:after{  top: "+(C/2+90)+"px; }     .zoomtimeline.mode-3dslider."+h+" .details-container > .detail .detail-image, .zoomtimeline.mode-3dslider."+h+" .details-container > .detail .detail-image--border{ height: "+C+"px;  } .zoomtimeline.mode-3dslider."+h+" .details-container > .detail{ margin-left: "+-(r/2)+"px; }  .zoomtimeline.mode-3dslider."+h+" .details-container >.next-item,  .zoomtimeline.mode-3dslider."+h+" .details-container  >.prev-item{ transform: translate3d(calc("+
    r/2+"px + 3vw),0,0); -webkit-transform: translate3d(calc("+r/2+"px + 3vw),0,0); }  .zoomtimeline.mode-3dslider."+h+" .details-container  >.prev-item{ transform: translate3d(calc("+-(r/2)+"px - 3vw),0,0); -webkit-transform: translate3d(calc("+-(r/2)+"px - 3vw),0,0); }       .zoomtimeline.mode-3dslider."+h+" .details-container >.next-next-item{ transform: translate3d(calc("+r+"px + 3vw),0,0); -webkit-transform: translate3d(calc("+r+"px + 3vw),-25px,0); }         .zoomtimeline.mode-3dslider."+h+" .details-container  >.prev-prev-item{ transform: translate3d(calc("+
    -r+"px - 3vw),0,0); -webkit-transform: translate3d(calc("+-r+"px - 3vw),0,0); }"));X.html(g)}u=c.children(".items");"mode-slider"==a.settings_mode&&(c.append('<div class="scroller-con skin_cerc auto-height" style="height: auto" data-options=\'{ enable_easing : "on" }\'><div class="inner inner-for-horizontal"></div></div>'),c.append('<div class="sc-descriptions"><div class="sc-descriptions-content"></div></div>'));"mode-slider-variation"==a.settings_mode&&(c.addClass("content-position-"+a.mode_slider_variation_content_position),
    "top"==a.mode_slider_variation_content_position?(c.append('<div class="sc-descriptions"><div class="sc-descriptions-content"></div></div>'),c.append('<div class="scroller-con skin_luna auto-height" style="height: auto" data-options=\'{ enable_easing : "on" }\'><div class="inner inner-for-horizontal"></div></div>')):(c.append('<div class="scroller-con skin_luna auto-height" style="height: auto" data-options=\'{ enable_easing : "on" }\'><div class="inner inner-for-horizontal"></div></div>'),c.append('<div class="sc-descriptions"><div class="sc-descriptions-content"></div></div>')));
    "mode-yearslist"==a.settings_mode&&(c.append('<div class="yearlist-con"><div class="yearlist-container"><div class="yearlist-line"></div><div class="yearlist"></div></div></div>'),c.append('<div class="details-container"><div class="diamond-arrow-left"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> <![CDATA[ .st0{fill:#EEEEEE;} .st1{fill:#222222;} ]]\x3e </style> <g id="Layer_1"> </g> <g id="Layer_2"> <rect x="8.787" y="8.787" transform="matrix(0.7071 0.7071 -0.7071 0.7071 30.0006 -12.4271)" class="st1" width="42.427" height="42.426"/> </g> <g id="Layer_3"> <g> <path class="st0" d="M17.154,31.003c0,0.129,0.028,0.257,0.078,0.379c0.048,0.119,0.121,0.225,0.208,0.315 c0.002,0.005,0.005,0.007,0.007,0.012l6.012,6.012c0.391,0.392,1.025,0.392,1.416,0c0.392-0.389,0.392-1.026,0-1.417l-4.3-4.302 h19.624c0.552,0,1.002-0.449,1.002-1.003c0-0.553-0.45-1.001-1.002-1.001H20.575l4.3-4.301c0.392-0.391,0.392-1.026,0-1.416 c-0.391-0.392-1.025-0.392-1.416,0l-6.012,6.011c-0.002,0.002-0.005,0.008-0.007,0.011c-0.087,0.09-0.16,0.196-0.208,0.314 c-0.052,0.123-0.078,0.253-0.078,0.382l0,0C17.154,31.002,17.154,31.002,17.154,31.003z"/> </g> </g> </svg></div><div class="diamond-arrow-right"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="60px" height="60px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve"> <style type="text/css"> <![CDATA[ .st0{fill:#EEEEEE;} .st1{fill:#222222;} ]]\x3e </style> <g id="Layer_1"> </g> <g id="Layer_2"> <rect x="8.787" y="8.787" transform="matrix(0.7071 0.7071 -0.7071 0.7071 30.0006 -12.4271)" class="st1" width="42.427" height="42.426"/> </g> <g id="Layer_3"> <g> <path class="st0" d="M41.201,29.998c0-0.129-0.028-0.257-0.078-0.379c-0.048-0.12-0.121-0.226-0.209-0.316 c-0.002-0.005-0.005-0.007-0.007-0.012l-6.023-6.023c-0.392-0.393-1.027-0.393-1.419,0c-0.393,0.389-0.393,1.028,0,1.419 l4.309,4.311H18.109c-0.553,0-1.004,0.45-1.004,1.006c0,0.554,0.451,1.003,1.004,1.003h19.664l-4.309,4.31 c-0.393,0.391-0.393,1.028,0,1.418c0.392,0.393,1.027,0.393,1.419,0l6.023-6.022c0.002-0.002,0.005-0.008,0.007-0.011 c0.088-0.09,0.161-0.196,0.209-0.315c0.052-0.123,0.078-0.253,0.078-0.382l0,0C41.201,29.999,41.201,29.999,41.201,29.998z"/> </g> </g> </svg> </div><div class="clear"></div></div>'),
        l=c.children(".details-container"),t=c.find(".yearlist").eq(0));"mode-3dslider"==a.settings_mode&&(c.append('<div class="yearlist-con"><div class="yearlist-container"><div class="yearlist-container-inner"><div class="yearlist-line"></div><div class="yearlist"></div></div></div></div>'),c.append('<div class="details-container"><div class="clear"></div></div>'),l=c.children(".details-container"),t=c.find(".yearlist").eq(0));"mode-horizontal"==a.settings_mode&&(c.append('<div class="yearlist-con"><div class="yearlist-container"><div class="yearlist-container-inner"><div class="yearlist-line"></div><div class="yearlist"></div></div></div></div>'),
        t=c.find(".yearlist").eq(0));B();a.startItem="default"==a.startItem?0:Number(a.startItem);c.get(0).api_gotoItem=x;c.get(0).api_goto_item_next=D;c.get(0).api_goto_item_prev=E;b(window).on("resize",Y);Y();g=200;"mode-yearslist"==a.settings_mode&&(g=500,x(a.startItem),c.on("mouseover",w),c.on("mouseleave",w),b(document).on("keydown",Z),c.on("touchstart",N),c.on("touchmove",N),c.on("touchend",N),c.find(".diamond-arrow-left,.diamond-arrow-right").on("click",w));"mode-3dslider"==a.settings_mode&&(g=500,
        x(a.startItem),c.on("click",w),c.on("mouseover",w),c.on("mouseleave",w),c.on("click",".detail",w),b(document).on("keydown",Z),is_touch_device()&&ca());"mode-slider-variation"==a.settings_mode&&(g=200,setTimeout(function(){x(0)},g));setTimeout(function(){c.addClass("ztm-ready")},g);c.addClass("inited")}}function B(){var g=0;if(u){u.children(".ztm-item:not(.inited)").each(function(){var f,d,e=b(this),p="";for(d=/cat-slug-.*?( |$)/g;f=d.exec(e.attr("class"));)p+=f[0];"mode-default"==a.settings_mode&&
0==e.children(".hex-icon").length&&e.prepend('<div class="hex-icon"><i class="the-icon fa fa-music"></i></div>');"mode-oncenter"==a.settings_mode&&(0==e.children(".center").length&&e.append('<div class="clear"></div>'),0==e.children(".the-image-con").length&&(e.attr("data-image")?e.children(".ztm-content").eq(0).before('<div class="the-image-con"><div class="the-image" style="background-image: url('+e.attr("data-image")+');"></div></div>'):e.addClass("no-image")));"mode-slider"==a.settings_mode&&
(f="260px",e.find(".ztm-content").css("width")&&"0px"!=e.find(".ztm-content").css("width")&&"auto"!=e.find(".ztm-content").css("width")&&(f=e.find(".ztm-content").css("width")),f=""+('<div style="width: '+f+';" class="the-item">')+'<div class="the-bg"></div><div class="the-after"></div>',e.attr("data-image")&&(f+='<div class="feature-image" style="background-image: url('+e.attr("data-image")+'); "></div>'),f+='<div class="hex-desc">'+e.find(".hex-desc").html()+"</div>",f+='<div class="the-content">'+
    e.find(".ztm-content").html()+"</div></div>",0==g%2?c.find(".inner-for-horizontal").append(f):c.find(".sc-descriptions-content").append(f),e.attr("data-image")&&A++);"mode-slider-variation"==a.settings_mode&&(c.find(".inner-for-horizontal").append('<img src="'+e.attr("data-image")+'"/>'),f="300px",c.find(".sc-descriptions-content").append('<div style="width: '+f+';" class="sc-description"><div class="the-bg"></div><div class="the-after"></div><div class="the-content">'+e.find(".ztm-content").html()+
    "</div></div>"),e.attr("data-image")&&A++);"mode-blackwhite"==a.settings_mode&&0==e.children(".image-con").length&&(1==e.parent().children().index(e)%2?e.append('<div class="image-con"><img class="fullwidth" src="'+e.attr("data-image")+'"/></div>'):e.prepend('<div class="image-con"><img class="fullwidth" src="'+e.attr("data-image")+'"/></div>'));"mode-masonry"==a.settings_mode&&(console.info(e),e.addClass("isotope-item"),e.attr("data-sort",10*(g+1)),e.wrapInner('<div class="ztm-item--inner"></div>'),
0==e.children(".ztm-item--inner").eq(0).children(".image-con").length&&e.children(".ztm-item--inner").append('<div class="image-con"><img class="fullwidth" src="'+e.attr("data-image")+'"/></div>'),1==e.children(".ztm-item--inner").children(".hex-desc-con").length&&e.children(".ztm-item--inner").children(".ztm-content").append(e.children(".ztm-item--inner").children(".hex-desc-con")),e.attr("data-image")?A++:0<e.children(".ztm-item--inner").children(".image-con").length&&A++);"mode-yearslist"==a.settings_mode&&
(f='<div class="year '+p+('"><span class="the-year">'+e.find(".hex-desc").html()+"</span></div>"),c.find(".yearlist").append(f),f='<div class="detail '+p+'"><div class="detail--inner">',e.attr("data-image")&&(f+='<div class="float-left detail-image-con" style=""><img class="detail-image" src="'+e.attr("data-image")+'"/><div class="detail-image-shadow-con"><div class="detail-image-shadow-left"></div><div class="detail-image-shadow-right"></div></div></div>'),f+='<div class="overflow-it detail-excerpt">'+
    e.find(".ztm-content").html()+'</div><div class="clear"></div>',d=e.children(".extrahtml").eq(0),console.info("_extrahtml < - > ",d),0<d.length&&0==d.hasClass("append-after")&&(f+=d.eq(0).html()),f+="</div>",0<d.length&&d.hasClass("append-after")&&(f+=""+d.eq(0).html()),f+="</div>",c.find(".details-container").append(f));"mode-horizontal"==a.settings_mode&&(f=1,e.attr("data-grow")&&(f=e.attr("data-grow")),d="",e.find(".hex-desc").length&&e.find(".hex-desc").html()&&(d=e.find(".hex-desc").html()),
    f='<div class="year  '+p+('" style="flex-grow: '+f+'"><div class="the-year">'+d+"</div>"),d&&(f+="<figure></figure>"),f+="</div>",c.find(".yearlist").append(f));"mode-3dslider"==a.settings_mode&&(d="",e.find(".hex-desc").length&&e.find(".hex-desc").html()&&(d=e.find(".hex-desc").html()),c.find(".yearlist").append('<div class="year"><div class="the-year">'+d+"</div><figure></figure></div>"),p=e.find(".ztm-content").html(),f=/<h3.*?class="the-heading".*?>(.*?)<\/h3>/g.exec(p),d="",f&&f[0]&&(d=f[0]),
    p=p.replace(/<h3.*?class="the-heading".*?>(.*?)<\/h3>/g,""),f="",console.info(e),f=e.get(0)&&"A"==e.get(0).nodeName?f+('<a href="'+e.attr("href")+'" target="'+e.attr("target")+'" class="detail"'):f+'<div class="detail"',f+=">"+d+'<div class="detail-image-con" style=""><div class="detail-image--border"></div><div class="detail-image" style="background-image:url('+e.attr("data-image")+');"></div><div class="detail-image-shadow-con"><div class="detail-image-shadow-left"></div><div class="detail-image-shadow-right"></div></div></div><div class=" detail-excerpt">'+
    p+'</div><div class="clear"></div>',0<e.children(".extrahtml").length&&(f+=e.children(".extrahtml").eq(0).html()),f=e.get(0)&&"A"==e.get(0).nodeName?f+"</a>":f+"</div>",c.find(".details-container").append(f));e.addClass("inited");g++});u.children(".ztm-item").each(function(){var c=b(this);if("mode-slider-variation"==a.settings_mode){var g=new Image;g.onload=aa;g.src=c.attr("data-image")}if("mode-masonry"==a.settings_mode){var e="";c.attr("data-image")?e=c.attr("data-image"):0<c.children(".ztm-item--inner").children(".image-con").length&&
    (e=c.children(".ztm-item--inner").children(".image-con").find("img").eq(0).attr("src"));g=new Image;g.onload=aa;g.src=e}});if("mode-slider"==a.settings_mode){var d={settings_skin:"skin_cerc",settings_replacewheelxwithy:"off",settings_refreshonresize:"on",force_onlyx:"on",settings_disableSpecialIosFeatures:"off",secondCon:c.find(".sc-descriptions-content").eq(0),enable_easing:"on",enable_easing_for_second_con:"on",easing_duration:10};window.dzsscr_init(c.children(".scroller-con"),d)}"mode-slider-variation"==
a.settings_mode&&J({calculate_year_position:!1});"mode-masonry"==a.settings_mode&&0==A&&S();"mode-yearslist"==a.settings_mode&&(c.find(".year").off("click"),c.find(".year").on("click",w))}}function S(){var g={settings_replacewheelxwithy:"off",settings_refreshonresize:"on",force_onlyx:"on",settings_disableSpecialIosFeatures:"off",secondCon:c.find(".sc-descriptions-content").eq(0),enable_easing:"on",enable_easing_for_second_con:"on",easing_duration:7,remember_last_position:a.scroller_remember_last_position,
    extra_html_scrollbarx:'<span class="the-year">'+c.find(".hex-desc").eq(0).text()+"</span>"};window.dzsscr_init(c.children(".scroller-con"),g);var d=c.find(".inner").eq(0);ba=d.width();var f=0,O=0,e=0,h=0;d.children().each(function(){var g=b(this);"mode-slider-variation"==a.settings_mode&&(g.width(),K[f]=O,f++,e+=g.width()/ba,g=parseInt(100*O+5,10),"tooltip"==a.mode_slider_variation_hexa_mode&&(g-=4),100<g&&(g=99),"tooltip"==a.mode_slider_variation_hexa_mode?c.find(".scrollbar > .scrollbarx").before('<div class="hexa-mark-con" style="left: '+
    g+'%"><div class="hexa-mark"></div><div class="hexa-content"><span>'+u.children().eq(h).find(".hex-desc").html()+"</span></div></div>"):c.find(".scrollbar > .scrollbarx").before('<div class="hexa-mark-con" style="left: '+g+'%"><div class="hexa-inshow">'+u.children().eq(h).find(".hex-desc").html()+"</div></div>"),O=e);h++});"mode-slider-variation"==a.settings_mode&&(c.children(".scroller-con").eq(0).get(0)&&c.children(".scroller-con").eq(0).get(0).api_set_action_animate_scrollbar_end&&c.children(".scroller-con").eq(0).get(0).api_set_action_animate_scrollbar_end(T),
    c.find(".hexa-mark-con").off("click"),c.find(".hexa-mark-con").on("click",w));"mode-masonry"==a.settings_mode&&(g={},g=b.extend(g,a.settings_isotope_settings),g.transitionDuration="0s",u.isotope(g),setTimeout(function(){g.transitionDuration="0.3s";u.isotope(g);c.addClass("dzszfl-ready-for-transitions")},2E3));"mode-masonry"!=a.settings_mode&&u.children().remove();c.addClass("reinited-finished-loading-all-images")}function T(a){a=-a.viewIndexX/(a.comWidth-a.totalWidth);for(var c=0,b=Math.abs(a-K[c]),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     g=0;g<K.length;g++){var e=Math.abs(a-K[g]);e<b&&(b=e,c=g)}a=c;a!=y&&x(a)}function aa(a){A--;0>=A&&S()}function Z(a){b(this);P&&(37==a.keyCode&&E(),39==a.keyCode&&D())}function N(a){b(this);"touchstart"==a.type&&(H=a.originalEvent.touches[0].pageX,Q=!0,console.info(a,"touch start - ",H));"touchmove"==a.type&&Q&&(I=a.originalEvent.touches[0].pageX);"touchend"==a.type&&(console.info("toucnh end - ",I,I-H,L/4),I-H>L/4&&E(),I-H<-(L/4)&&D(),Q=!1)}function w(a){var d=b(this);"mouseover"==a.type&&(P=!0);
    "mouseleave"==a.type&&(P=!1);if("click"==a.type){var f=a.clientX-c.offset().left;c.offset();d.hasClass("zoomtimeline")&&(f<z/2-r/2&&E(),f>z/2+r/2&&D());d.hasClass("detail")&&0==d.hasClass("curr-item")&&a.preventDefault();d.hasClass("year")&&(a=d.parent().children().index(d),x(a));d.hasClass("diamond-arrow-left")&&E();d.hasClass("diamond-arrow-right")&&D();if(d.hasClass("hexa-mark-con"))return c.children(".scroller-con").get(0)&&c.children(".scroller-con").get(0).fn_scrollx_to&&c.children(".scroller-con").get(0).fn_scrollx_to(parseInt(d.get(0).style.left,
            10)/100),!1}}function Y(d){L=b(window).width();R=z=c.width();"mode-yearslist"==a.settings_mode&&t&&t.parent()&&(R=t.parent().width());900>z?c.addClass("under-900"):c.removeClass("under-900");600>z?c.addClass("under-600"):c.removeClass("under-600");400>z?c.addClass("under-400"):c.removeClass("under-400");J()}function J(d){var g={calculate_year_position:!0};d&&(g=b.extend(g,d));"mode-yearslist"==a.settings_mode&&g.calculate_year_position&&m&&t&&(d=m.parent().children().index(m),g=0,g="on"==a.mode_yearslist_start_from_left?
    -d*m.width():R/2-m.width()/2-d*m.width(),t.css({left:g}));if("mode-slider-variation"==a.settings_mode){var f=c.find(".sc-descriptions-content").eq(0);f.children(".sc-description").each(function(){b(this).children(".the-after,.the-bg").height(f.height())})}}function ca(){c.addClass("swipe-enabled");var a=0,b=0,d=!1,h=c,e=null;h.on("touchstart",function(b){b&&b.originalEvent&&(a=b.originalEvent.touches[0].pageX);e=c;d=!0;c.addClass("closedhand");console.info("TRIGGERED TOUCH START")});h.on("swipeleft",
    function(a){console.info("SWIPE LEFT")});h.on("touchmove",function(a){0!=d&&(b=a.originalEvent.touches[0].pageX)});h.on("touchend",function(f){d=!1;e==c&&(b-a<-(z/5)&&D(),b-a>z/5&&(console.info("COMMON SWIPE LEFT"),E()));c.removeClass("closedhand")})}function E(){v=y;v--;if(0>v&&(v=u.children(".ztm-item").length-1,"off"==a.circuit_the_timeline))return!1;x(v)}function D(){v=y;v++;if(v>=u.children(".ztm-item").length&&(v=0,"off"==a.circuit_the_timeline))return!1;x(v)}function x(d,h){var f=null;var g=
    null;var e=!0;y<d||(e=!1);c.removeClass("first-item-active last-item-active");0==d&&c.addClass("first-item-active");d==u.children().length-1&&c.addClass("last-item-active");"mode-yearslist"==a.settings_mode&&(m=c.find(".yearlist > .year").eq(d),c.find(".yearlist > .year").removeClass("active"),m.addClass("active"),-1<y&&(g=l.children(".detail").eq(y),e?(g.css({left:"0%",opacity:1}),g.animate({left:"-100%",opacity:0},{queue:!1,duration:300,complete:function(){b(this).removeClass("active")}})):(g.css({left:"0%",
    opacity:1}),g.animate({left:"100%",opacity:0},{queue:!1,duration:300,complete:function(){b(this).removeClass("active")}})),l.css("height",g.outerHeight())),l&&(f=l.children(".detail").eq(d),e?f.css({left:"100%",opacity:0}):f.css({left:"-100%",opacity:0}),f.animate({left:"0%",opacity:1},{queue:!1,duration:300,complete:function(){b(this).addClass("active")}}),setTimeout(function(){l.css("height",f.outerHeight());setTimeout(function(){l.css("height","auto")},300)},100)),t&&J({calculate_year_position:!0}));
    if("mode-3dslider"==a.settings_mode){m=c.find(".yearlist > .year").eq(d);c.find(".yearlist > .year").removeClass("active prev-prev-prev-prev-item prev-prev-prev-item prev-prev-item prev-item curr-item next-item next-next-item next-next-next-item next-next-next-next-item");m.addClass("active");m.prev().prev().prev().addClass("prev-prev-prev-item");m.prev().prev().addClass("prev-prev-item");m.prev().addClass("prev-item");m.addClass("curr-item");m.next().addClass("next-item");m.next().next().addClass("next-next-item");
        m.next().next().next().addClass("next-next-item");t.css("left",50-G/2-d*G+"%");for(n=d+3;n<l.children(".detail").length;n++)g=t.children(".year").eq(n),g.addClass("next-next-next-next-item");for(n=0;n<d-3;n++)g=t.children(".year").eq(n),g.addClass("prev-prev-prev-prev-item");if(l){f=l.children(".detail").eq(d);l.children().removeClass("prev-prev-prev-prev-item prev-prev-prev-item prev-prev-item prev-item curr-item next-item next-next-item next-next-next-item next-next-next-next-item");for(n=d+4;n<
        l.children(".detail").length;n++)g=l.children(".detail").eq(n),g.addClass("next-next-next-next-item");for(n=d-4;-1<n;n--)g=l.children(".detail").eq(n),g.addClass("prev-prev-prev-prev-item");f.prev().prev().prev().addClass("prev-prev-prev-item");f.prev().prev().addClass("prev-prev-item");f.prev().addClass("prev-item");f.addClass("curr-item");f.next().addClass("next-item");f.next().next().addClass("next-next-item");f.next().next().next().addClass("next-next-next-item");l.css("height",f.outerHeight());
            setTimeout(function(){},500);is_touch_device()&&setTimeout(function(){l.css("height",f.outerHeight())},1E3);setTimeout(function(){l.css("height",f.outerHeight());setTimeout(function(){},300)},100)}t&&J({calculate_year_position:!0});F&&(F.after(F.clone()),F.next().css("background-image","url()"))}"mode-slider-variation"==a.settings_mode&&(c.find(".sc-descriptions-content").children().removeClass("active"),f=c.find(".sc-descriptions-content").children().eq(d),-1<d&&shuffleText(c.find(".scrollbarx .the-year").eq(0),
        c.find(".hexa-inshow").eq(d).text()),f.addClass("active"));y=d}var c=b(this),M="",h="",y=-1,l=null,t=null,m=null,u=null,X=null,n=0,L,V,z,R=0,U=0,W=0,v=y=-1,A=0,P=!1,F=null,K=[],ba=0,H=0,I=0,Q=!1,r=0,C=0,G=0;"document_ready"==a.init_on&&q();"scroll"==a.init_on&&(b(window).on("scroll",d),d());return this})};window.dzsztm_init=function(a,d){if("undefined"!=typeof d&&"undefined"!=typeof d.init_each&&1==d.init_each){var k=0,q;for(q in d)k++;1==k&&(d=void 0);b(a).each(function(){b(this).zoomtimeline(d)})}else b(a).zoomtimeline(d)}})(jQuery);
function can_history_api(){return!(!window.history||!history.pushState)}function is_ios(){return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")||-1!=navigator.platform.indexOf("iPad")}function is_android(){return-1<navigator.userAgent.toLowerCase().indexOf("android")}function is_ie(){return-1!=navigator.appVersion.indexOf("MSIE")?!0:!1}function is_firefox(){return-1!=navigator.userAgent.indexOf("Firefox")?!0:!1}
function is_opera(){return-1!=navigator.userAgent.indexOf("Opera")?!0:!1}function is_chrome(){return-1<navigator.userAgent.toLowerCase().indexOf("chrome")}function is_safari(){return-1<navigator.userAgent.toLowerCase().indexOf("safari")}function version_ie(){return parseFloat(navigator.appVersion.split("MSIE")[1])}function version_firefox(){if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent))return new Number(RegExp.$1)}
function version_opera(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent))return new Number(RegExp.$1)}function is_ie8(){return is_ie()&&9>version_ie()?!0:!1}function is_ie9(){return is_ie()&&9==version_ie()?!0:!1}function hexToRgbA(b){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(b))return b=b.substring(1).split(""),3==b.length&&(b=[b[0],b[0],b[1],b[1],b[2],b[2]]),b="0x"+b.join(""),"rgba("+[b>>16&255,b>>8&255,b&255].join()+",1)";throw Error("Bad Hex");}
function get_query_arg(b,a){if(-1<b.indexOf(a+"=")){var d=(new RegExp("[?&]"+a+"=.+")).exec(b);if(null!=d)return d=d[0],-1<d.indexOf("&")&&(d=d.split("&")[1]),d.split("=")[1]}}function add_query_arg(b,a,d){a=encodeURIComponent(a);d=encodeURIComponent(d);var k=a+"="+d;b=b.replace(new RegExp("(&|\\?)"+a+"=[^&]*"),"$1"+k);-1<b.indexOf(a+"=")||(k=-1<b.indexOf("?")?"&"+k:"?"+k,b+=k);"NaN"==d&&(b=b.replace(new RegExp("[?|&]"+a+"="+d),""));return b}
function is_touch_device(){return!!("ontouchstart"in window)}jQuery(document).ready(function(b){dzsztm_init(".zoomtimeline.auto-init",{init_each:!0})});